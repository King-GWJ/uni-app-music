import{m as a,o as e,c as s,w as t,b as l,e as c,t as o,x as n,F as u,y as d,k as m,g as i,z as r,Y as _,aQ as f,aR as p,aS as v,I as y}from"./index-9851b1d6.js";import{_ as g}from"./plugin-vueexport-helper.1b428a4d.js";const k=g({__name:"main",props:["total","typeIndex","comments"],emits:["changeType"],setup(_,{emit:f}){const p=_,v=f;console.log(p.comments);const y=a(["推荐","最热","最新"]);return(a,_)=>{const f=i,g=r;return e(),s(f,{class:"main"},{default:t((()=>[l(f,{class:"top"},{default:t((()=>[l(f,{class:"title"},{default:t((()=>[c(" 评论("+o(p.total)+") ",1)])),_:1}),l(f,{class:"type"},{default:t((()=>[(e(!0),n(u,null,d(y.value,((a,n)=>(e(),s(f,{key:n,onClick:a=>{v("changeType",n)}},{default:t((()=>[l(f,{class:m([{typeItem:!0,bod:n<2,active:p.typeIndex===n}])},{default:t((()=>[c(o(a),1)])),_:2},1032,["class"])])),_:2},1032,["onClick"])))),128))])),_:1})])),_:1}),l(f,{class:"content"},{default:t((()=>[(e(!0),n(u,null,d(p.comments,((a,n)=>(e(),s(f,{class:"contentItem",key:n},{default:t((()=>[l(g,{src:a.user.avatarUrl,mode:"widthFix"},null,8,["src"]),l(f,{class:"itemMain"},{default:t((()=>[l(f,{class:"itemHeader"},{default:t((()=>[l(f,{class:"info"},{default:t((()=>[l(f,{class:"name"},{default:t((()=>[c(o(a.user.nickname),1)])),_:2},1024),l(f,{class:"address"})])),_:2},1024),l(f,{class:"good"},{default:t((()=>[c(o(a.likedCount)+" ",1),l(f,{class:"goodIcon"})])),_:2},1024)])),_:2},1024),l(f,{class:"itemContent"},{default:t((()=>[c(o(a.content),1)])),_:2},1024),l(f,{class:"itemReceive"})])),_:2},1024)])),_:2},1024)))),128))])),_:1})])),_:1})}}},[["__scopeId","data-v-274e3c41"]]),x=g({__name:"comment",setup(n){const u=a(""),d=a(""),m=a(""),g=a(0),x=a(0),I=a(0),h=a([]);_((a=>{g.value=a.id,C(),w()}));const C=async()=>{const a=await f(g.value,0,I.value+1);console.log(a),x.value=a.data.totalCount,h.value=a.data.comments},w=async()=>{const a=await p(g.value);u.value=a.songs[0].al.picUrl,d.value=a.songs[0].al.name,m.value=a.songs[0].alia[0]},T=a=>{console.log(a),I.value=a,C()},b=()=>{v()};return(a,n)=>{const _=i,f=r,p=y;return e(),s(_,{class:"commentWrap"},{default:t((()=>[l(_,{class:"header"},{default:t((()=>[l(_,{class:"back",onClick:b}),l(_,{class:"headerTitle"},{default:t((()=>[c(" 评论 ")])),_:1}),l(_,{class:"detail"})])),_:1}),l(_,{class:"content"},{default:t((()=>[l(_,{class:"infoBar"},{default:t((()=>[l(f,{class:"img",src:u.value,mode:"widthFix"},null,8,["src"]),l(_,{class:"name"},{default:t((()=>[c(o(d.value),1)])),_:1}),l(_,{class:"artist"},{default:t((()=>[c(" -"+o(m.value)+"· ",1)])),_:1}),l(_,{class:"like"},{default:t((()=>[c(" 关注 ")])),_:1})])),_:1}),l(k,{comments:h.value,total:x.value,typeIndex:I.value,onChangeType:T},null,8,["comments","total","typeIndex"])])),_:1}),l(_,{class:"footer"},{default:t((()=>[l(_,{class:"footerHeader"}),l(_,{class:"footerBottom"},{default:t((()=>[l(p,{class:"inp",type:"text",placeholder:"听说爱评论的人粉丝多"}),l(_,{class:"send"},{default:t((()=>[c(" 发送 ")])),_:1})])),_:1})])),_:1})])),_:1})}}},[["__scopeId","data-v-491ce0aa"]]);export{x as default};
