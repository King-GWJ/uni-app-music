import{m as a,o as e,c as s,w as t,b as l,e as c,t as n,x as o,F as u,y as d,k as m,g as i,z as r,Y as _,aO as f,aP as p,aQ as v}from"./index-774346cf.js";import{_ as y}from"./plugin-vueexport-helper.1b428a4d.js";const g=y({__name:"main",props:["total","typeIndex","comments"],emits:["changeType"],setup(_,{emit:f}){const p=_,v=f;console.log(p.comments);const y=a(["推荐","最热","最新"]);return(a,_)=>{const f=i,g=r;return e(),s(f,{class:"main"},{default:t((()=>[l(f,{class:"top"},{default:t((()=>[l(f,{class:"title"},{default:t((()=>[c(" 评论("+n(p.total)+") ",1)])),_:1}),l(f,{class:"type"},{default:t((()=>[(e(!0),o(u,null,d(y.value,((a,o)=>(e(),s(f,{key:o,onClick:a=>{v("changeType",o)}},{default:t((()=>[l(f,{class:m([{typeItem:!0,bod:o<2,active:p.typeIndex===o}])},{default:t((()=>[c(n(a),1)])),_:2},1032,["class"])])),_:2},1032,["onClick"])))),128))])),_:1})])),_:1}),l(f,{class:"content"},{default:t((()=>[(e(!0),o(u,null,d(p.comments,((a,o)=>(e(),s(f,{class:"contentItem",key:o},{default:t((()=>[l(g,{src:a.user.avatarUrl,mode:"widthFix"},null,8,["src"]),l(f,{class:"itemMain"},{default:t((()=>[l(f,{class:"itemHeader"},{default:t((()=>[l(f,{class:"info"},{default:t((()=>[l(f,{class:"name"},{default:t((()=>[c(n(a.user.nickname),1)])),_:2},1024),l(f,{class:"address"})])),_:2},1024),l(f,{class:"good"},{default:t((()=>[c(n(a.likedCount),1)])),_:2},1024)])),_:2},1024),l(f,{class:"itemContent"},{default:t((()=>[c(n(a.content),1)])),_:2},1024),l(f,{class:"itemReceive"})])),_:2},1024)])),_:2},1024)))),128))])),_:1})])),_:1})}}},[["__scopeId","data-v-fd632d9e"]]),k=y({__name:"comment",setup(o){const u=a(""),d=a(""),m=a(""),y=a(0),k=a(0),x=a(0),h=a([]);_((a=>{y.value=a.id,I(),C()}));const I=async()=>{const a=await f(y.value,0,x.value+1);console.log(a),k.value=a.data.totalCount,h.value=a.data.comments},C=async()=>{const a=await p(y.value);u.value=a.songs[0].al.picUrl,d.value=a.songs[0].al.name,m.value=a.songs[0].alia[0]},w=a=>{console.log(a),x.value=a,I()},b=()=>{v()};return(a,o)=>{const _=i,f=r;return e(),s(_,{class:"commentWrap"},{default:t((()=>[l(_,{class:"header"},{default:t((()=>[l(_,{class:"back",onClick:b}),l(_,{class:"headerTitle"},{default:t((()=>[c(" 评论 ")])),_:1}),l(_,{class:"detail"})])),_:1}),l(_,{class:"content"},{default:t((()=>[l(_,{class:"infoBar"},{default:t((()=>[l(f,{class:"img",src:u.value,mode:"widthFix"},null,8,["src"]),l(_,{class:"name"},{default:t((()=>[c(n(d.value),1)])),_:1}),l(_,{class:"artist"},{default:t((()=>[c(" -"+n(m.value)+"· ",1)])),_:1}),l(_,{class:"like"},{default:t((()=>[c(" 关注 ")])),_:1})])),_:1}),l(g,{comments:h.value,total:k.value,typeIndex:x.value,onChangeType:w},null,8,["comments","total","typeIndex"])])),_:1}),l(_,{class:"footer"},{default:t((()=>[c(" 底部 ")])),_:1})])),_:1})}}},[["__scopeId","data-v-283db4f2"]]);export{k as default};
