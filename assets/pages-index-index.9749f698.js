import{i as e,_ as t,h as a,r as l,a as s,o as i,c,w as n,b as r,n as o,d as u,e as d,t as h,f as p,g as m,I as f,j as y,k as _,l as g,m as b,p as k,q as w,s as C,u as S,v as x,x as v,y as F,z as V,F as U,S as T,A as j,B as $,C as B}from"./index-8c399a5a.js";import{_ as z}from"./uni-icons.8e38be73.js";import{S as I,n as E}from"./Sidebar.1be46765.js";const q={en:{"uni-search-bar.cancel":"cancel","uni-search-bar.placeholder":"Search enter content"},"zh-Hans":{"uni-search-bar.cancel":"取消","uni-search-bar.placeholder":"请输入搜索内容"},"zh-Hant":{"uni-search-bar.cancel":"取消","uni-search-bar.placeholder":"請輸入搜索內容"}},{t:A}=e(q);const R=t({name:"UniSearchBar",emits:["input","update:modelValue","clear","cancel","confirm","blur","focus"],props:{placeholder:{type:String,default:""},radius:{type:[Number,String],default:5},clearButton:{type:String,default:"auto"},cancelButton:{type:String,default:"auto"},cancelText:{type:String,default:""},bgColor:{type:String,default:"#F8F8F8"},textColor:{type:String,default:"#F8F8F8"},maxlength:{type:[Number,String],default:100},value:{type:[Number,String],default:""},modelValue:{type:[Number,String],default:""},focus:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1}},data:()=>({show:!1,showSync:!1,searchVal:""}),computed:{cancelTextI18n(){return this.cancelText||A("uni-search-bar.cancel")},placeholderText(){return this.placeholder||A("uni-search-bar.placeholder")}},watch:{modelValue:{immediate:!0,handler(e){this.searchVal=e,e&&(this.show=!0)}},focus:{immediate:!0,handler(e){if(e){if(this.readonly)return;this.show=!0,this.$nextTick((()=>{this.showSync=!0}))}}},searchVal(e,t){this.$emit("input",e),this.$emit("update:modelValue",e)}},methods:{searchClick(){this.readonly||this.show||(this.show=!0,this.$nextTick((()=>{this.showSync=!0})))},clear(){this.searchVal="",this.$nextTick((()=>{this.$emit("clear",{value:""})}))},cancel(){this.readonly||(this.$emit("cancel",{value:this.searchVal}),this.searchVal="",this.show=!1,this.showSync=!1,a())},confirm(){a(),this.$emit("confirm",{value:this.searchVal})},blur(){a(),this.$emit("blur",{value:this.searchVal})},emitFocus(e){this.$emit("focus",e.detail)}}},[["render",function(e,t,a,_,g,b){const k=l(s("uni-icons"),z),w=m,C=f,S=y;return i(),c(w,{class:"uni-searchbar"},{default:n((()=>[r(w,{style:o({borderRadius:a.radius+"px",backgroundColor:a.bgColor}),class:"uni-searchbar__box",onClick:b.searchClick},{default:n((()=>[r(w,{class:"uni-searchbar__box-icon-search"},{default:n((()=>[u(e.$slots,"searchIcon",{},(()=>[r(k,{color:"#c0c4cc",size:"18",type:"search"})]),!0)])),_:3}),g.show||g.searchVal?(i(),c(C,{key:0,focus:g.showSync,disabled:a.readonly,placeholder:b.placeholderText,maxlength:a.maxlength,class:"uni-searchbar__box-search-input","confirm-type":"search",type:"text",modelValue:g.searchVal,"onUpdate:modelValue":t[0]||(t[0]=e=>g.searchVal=e),style:o({color:a.textColor}),onConfirm:b.confirm,onBlur:b.blur,onFocus:b.emitFocus},null,8,["focus","disabled","placeholder","maxlength","modelValue","style","onConfirm","onBlur","onFocus"])):(i(),c(S,{key:1,class:"uni-searchbar__text-placeholder"},{default:n((()=>[d(h(a.placeholder),1)])),_:1})),g.show&&("always"===a.clearButton||"auto"===a.clearButton&&""!==g.searchVal)&&!a.readonly?(i(),c(w,{key:2,class:"uni-searchbar__box-icon-clear",onClick:b.clear},{default:n((()=>[u(e.$slots,"clearIcon",{},(()=>[r(k,{color:"#c0c4cc",size:"20",type:"clear"})]),!0)])),_:3},8,["onClick"])):p("",!0)])),_:3},8,["style","onClick"]),"always"===a.cancelButton||g.show&&"auto"===a.cancelButton?(i(),c(S,{key:0,onClick:b.cancel,class:"uni-searchbar__cancel"},{default:n((()=>[d(h(b.cancelTextI18n),1)])),_:1},8,["onClick"])):p("",!0)])),_:3})}],["__scopeId","data-v-364b5b74"]]);const D=t({name:"UniSection",emits:["click"],props:{type:{type:String,default:""},title:{type:String,required:!0,default:""},titleFontSize:{type:String,default:"14px"},titleColor:{type:String,default:"#333"},subTitle:{type:String,default:""},subTitleFontSize:{type:String,default:"12px"},subTitleColor:{type:String,default:"#999"},padding:{type:[Boolean,String],default:!1}},computed:{_padding(){return"string"==typeof this.padding?this.padding:this.padding?"10px":""}},watch:{title(e){uni.report&&""!==e&&uni.report("title",e)}},methods:{onClick(){this.$emit("click")}}},[["render",function(e,t,a,l,s,f){const g=m,b=y;return i(),c(g,{class:"uni-section"},{default:n((()=>[r(g,{class:"uni-section-header",onClick:f.onClick},{default:n((()=>[a.type?(i(),c(g,{key:0,class:_(["uni-section-header__decoration",a.type])},null,8,["class"])):u(e.$slots,"decoration",{key:1},void 0,!0),r(g,{class:"uni-section-header__content"},{default:n((()=>[r(b,{style:o({"font-size":a.titleFontSize,color:a.titleColor}),class:_(["uni-section__content-title",{distraction:!a.subTitle}])},{default:n((()=>[d(h(a.title),1)])),_:1},8,["style","class"]),a.subTitle?(i(),c(b,{key:0,style:o({"font-size":a.subTitleFontSize,color:a.subTitleColor}),class:"uni-section-header__content-sub"},{default:n((()=>[d(h(a.subTitle),1)])),_:1},8,["style"])):p("",!0)])),_:1}),r(g,{class:"uni-section-header__slot-right"},{default:n((()=>[u(e.$slots,"right",{},void 0,!0)])),_:3})])),_:3},8,["onClick"]),r(g,{class:"uni-section-content",style:o({padding:f._padding})},{default:n((()=>[u(e.$slots,"default",{},void 0,!0)])),_:3},8,["style"])])),_:3})}],["__scopeId","data-v-62a0b6ae"]]),H=[{id:-1,name:"每日推荐",iconUrl:"http://p1.music.126.net/4DpSgAVpJny4Ewf-Xw_WQQ==/109951163986641971.jpg",url:"/pages/acquiesce/acquiesce"},{id:-6,name:"私人FM",iconUrl:"http://p1.music.126.net/Shi7cRT1bDhwpVDM7AOFXg==/109951165265330616.jpg",url:"/pages/personalfm/personalfm"},{id:-2,name:"歌单",iconUrl:"http://p1.music.126.net/uG5p6CnwAHrLqOkaSeRlnA==/109951163986649164.jpg",url:""},{id:-3,name:"排行榜",iconUrl:"http://p1.music.126.net/SDFC6A3X2wzUCavYyeGIOg==/109951163986649670.jpg",url:"/pages/recommended/recommended"},{id:1025001,name:"有声书",iconUrl:"http://p1.music.126.net/Kb4oK0m_ocs3FR3lo-r9yg==/109951167319110429.jpg",url:""},{id:13e3,name:"数字专辑",iconUrl:"http://p1.music.126.net/nRWhsf3P7r7eqHz-v61VBg==/109951166989045593.jpg",url:""},{id:11e3,name:"直播",iconUrl:"http://p1.music.126.net/2JvVZZjcjyCE72fGMsC1hg==/109951166989043011.jpg",url:""},{id:1025e3,name:"关注新歌",iconUrl:"http://p1.music.126.net/BAOWsqZmmxL8JIH-wejMmQ==/109951167294312390.jpg",url:""},{id:1027e3,name:"收藏家",iconUrl:"http://p1.music.126.net/gk99UFRasebERf38t6A1kA==/109951168168319514.jpg",url:""}],M=t({__name:"index",setup(e){g("curCookie");const t=b([]),a=b([]),o=b([]),u=b([]),p=b(null);k().then((e=>{t.value=e.banners})),w().then((e=>{a.value=e.result})),C().then((e=>{o.value=e.list})),S(12).then((e=>{u.value=f(e.result)}));const f=e=>{const t=[];for(let a=0;a<e.length/3;a++)t.push(e.slice(3*a,3*(a+1)));return t},_=e=>{E("/pages/acquiesce/acquiesce?id="+e)},q=x();q.src="https://web-ext-storage.dcloud.net.cn/uni-app/ForElise.mp3",q.autoplay=!0,q.onPlay((()=>{console.log("开始播放")})),console.log("ggg",q);const A=()=>{q.play()},M=()=>{q.pause()};return(e,f)=>{const g=l(s("uni-icons"),z),b=l(s("uni-search-bar"),R),k=m,w=$,C=B,S=T,x=l(s("uni-section"),D),q=y,N=j;return i(),c(k,{class:"content"},{default:n((()=>[r(k,{class:"header"},{default:n((()=>[r(g,{class:"bars",type:"bars",size:"24",onClick:f[0]||(f[0]=()=>{p.value.showDrawer()})}),r(k,{class:"search",onClick:f[1]||(f[1]=e=>v(E)("/pages/search/search"))},{default:n((()=>[r(b,{placeholder:"搜索",bgColor:"#EEEEEE",readonly:""})])),_:1})])),_:1}),r(k,{class:"main"},{default:n((()=>[r(k,{class:"swiper-wrap"},{default:n((()=>[r(S,{class:"swiper","indicator-dots":"","indicator-color":"rgba(255, 255, 255, .4)","indicator-active-color":"#ffffff",autoplay:"",circular:""},{default:n((()=>[(i(!0),F(U,null,V(t.value,(e=>(i(),c(C,{key:e.targetId},{default:n((()=>[r(w,{src:e.imageUrl,mode:"widthFix"},null,8,["src"])])),_:2},1024)))),128))])),_:1})])),_:1}),r(S,{class:"icon-swiper","display-multiple-items":"5"},{default:n((()=>[(i(!0),F(U,null,V(v(H),(e=>(i(),c(C,{key:e.id},{default:n((()=>[r(w,{src:e.iconUrl,mode:"widthFix",onClick:t=>v(E)(e.url)},null,8,["src","onClick"]),r(k,{class:"icon-name"},{default:n((()=>[d(h(e.name),1)])),_:2},1024)])),_:2},1024)))),128))])),_:1}),r(x,{type:"line",title:"推荐歌单"},{default:n((()=>[r(k,{class:"playlist"},{default:n((()=>[(i(!0),F(U,null,V(a.value,(e=>(i(),c(k,{class:"playlist-item",key:e.id,onClick:t=>_(e.id)},{default:n((()=>[r(w,{src:e.picUrl,mode:"widthFix"},null,8,["src"]),r(k,{class:"playlist-item-name"},{default:n((()=>[d(h(e.name),1)])),_:2},1024)])),_:2},1032,["onClick"])))),128))])),_:1})])),_:1}),r(x,{type:"line",title:"新歌新碟"},{default:n((()=>[r(k,{class:"newsong"},{default:n((()=>[(i(!0),F(U,null,V(u.value,(e=>(i(),c(k,{class:"musiclist"},{default:n((()=>[(i(!0),F(U,null,V(e,(e=>(i(),c(k,{class:"musiclist-item",key:e.id,onClick:f[2]||(f[2]=e=>v(E)("/pages/musicPlay/musicPlay"))},{default:n((()=>[r(w,{src:e.picUrl,mode:"widthFix"},null,8,["src"]),r(k,{class:"musiclist-item-name"},{default:n((()=>[d(h(e.name),1)])),_:2},1024)])),_:2},1024)))),128))])),_:2},1024)))),256))])),_:1})])),_:1}),r(x,{type:"line",title:"排行榜"},{default:n((()=>[r(k,{class:"playlist"},{default:n((()=>[(i(!0),F(U,null,V(o.value,(e=>(i(),c(k,{class:"playlist-item",key:e.id,onClick:t=>_(e.id)},{default:n((()=>[r(w,{src:e.coverImgUrl,mode:"widthFix"},null,8,["src"]),r(k,{class:"playlist-item-name"},{default:n((()=>[d(h(e.name),1)])),_:2},1024)])),_:2},1032,["onClick"])))),128))])),_:1})])),_:1})])),_:1}),r(I,{ref_key:"sidebar",ref:p},null,512),r(N,{onClick:A},{default:n((()=>[r(q,{class:"word-btn-white"},{default:n((()=>[d("播放")])),_:1})])),_:1}),r(N,{onClick:M},{default:n((()=>[r(q,{class:"word-btn-white"},{default:n((()=>[d("暂停")])),_:1})])),_:1})])),_:1})}}},[["__scopeId","data-v-bf7d9ec6"]]);export{M as default};
