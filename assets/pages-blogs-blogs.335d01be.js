import{m as a,p as e,B as l,C as n,o as s,c as t,w as o,b as u,D as r,x as c,y as d,F as i,I as m,g as f,S as p,e as _,t as g,A as h,z as v,j as y,E as k,G as x,H as I,J as w,K as b,L as B,M as P}from"./index-bf102121.js";import{_ as S}from"./plugin-vueexport-helper.1b428a4d.js";const U=""+new URL("search-9346e21a.svg",import.meta.url).href,j=S({__name:"recommend",setup(k){const x=a([]);a([]);const I=a([]);return e().then((a=>{x.value=a.banners})),l({limit:9,offset:3}).then((a=>{})),n().then((a=>{for(let e=0;e<a.albums.length;e+3)I.value.push(a.albums.splice(e,e+3))})),(a,e)=>{const l=m,n=f,k=h,w=p,b=v,B=y;return s(),t(n,{class:"recommend"},{default:o((()=>[u(n,{class:"search"},{default:o((()=>[r("span",null,[r("img",{src:U,alt:""})]),u(l,{type:"text",name:"",id:"",placeholder:"大家都在听一人一首成名曲"})])),_:1}),u(n,{class:"nav"},{default:o((()=>[r("p",null,"我的博客"),r("p",null,"全部分类"),r("p",null,"排行榜"),r("p",null,"宝藏博客")])),_:1}),u(n,{class:"uni-margin-wrap"},{default:o((()=>[u(w,{class:"swiper","indicator-dots":"","indicator-color":"rgba(255, 255, 255, .4)","indicator-active-color":"#ffffff",circular:"",autoplay:""},{default:o((()=>[(s(!0),c(i,null,d(x.value,(a=>(s(),t(k,{key:a.targetId},{default:o((()=>[r("img",{src:a.imageUrl,alt:"",mode:"widthFix"},null,8,["src"])])),_:2},1024)))),128))])),_:1})])),_:1}),r("h3",null,"新专辑"),u(n,{class:"type"},{default:o((()=>[(s(!0),c(i,null,d(I.value,((a,e)=>(s(),t(n,{key:e,class:"list"},{default:o((()=>[(s(!0),c(i,null,d(a,(a=>(s(),t(n,{key:e,class:"li"},{default:o((()=>[u(b,{src:a.picUrl,mode:"",class:"img"},null,8,["src"]),u(B,null,{default:o((()=>[_(g(a.name),1)])),_:2},1024)])),_:2},1024)))),128))])),_:2},1024)))),128))])),_:1})])),_:1})}}},[["__scopeId","data-v-fe3672fc"]]);const C=S({components:{audioBook:S({__name:"audioBook",setup(e){const l=a([]),n=a([]);return k().then((a=>{l.value=a.data})),x().then((a=>{n.value=a.data})),(a,e)=>{const m=f,y=h,k=p,x=v;return s(),t(m,null,{default:o((()=>[u(m,{class:""}),u(m,{class:"uni-margin-wrap"},{default:o((()=>[u(k,{class:"swiper","indicator-dots":"","indicator-color":"rgba(255, 255, 255, .4)","indicator-active-color":"#ffffff",circular:"",autoplay:""},{default:o((()=>[(s(!0),c(i,null,d(l.value,(a=>(s(),t(y,{key:a.targetId},{default:o((()=>[r("img",{src:a.pic,alt:"",mode:"widthFix"},null,8,["src"])])),_:2},1024)))),128))])),_:1})])),_:1}),u(m,{class:"personalize"},{default:o((()=>[(s(!0),c(i,null,d(n.value,((a,e)=>(s(),t(m,{key:e,id:a.id},{default:o((()=>[u(m,{class:""},{default:o((()=>[u(x,{src:a.picUrl,mode:""},null,8,["src"]),_(" "+g(a.name),1)])),_:2},1024)])),_:2},1032,["id"])))),128))])),_:1})])),_:1})}}},[["__scopeId","data-v-2a54f7d2"]]),recommend:j,listening:{__name:"listening",setup(e){const l=I(),n=a(l.profile),u=a([]);return w((()=>{n.value||(n.value=l.setProfileData())})),b((()=>n.value),(()=>{B({uid:n.value.userId}).then((a=>{console.log("aaa:",a),u.value=a.follow}))})),(a,e)=>{const l=f;return s(),t(l,null,{default:o((()=>[_(" 粉丝 ")])),_:1})}}},radioPlay:S({name:"radioPlay",data:()=>({})},[["render",function(a,e,l,n,o,u){const r=f;return s(),t(r)}]])},data:()=>({list:[{component:"audioBook",name:"有声书",isShow:!0},{component:"listening",name:"听书",isShow:!1},{component:"radioPlay",name:"广播剧",isShow:!1},{component:"recommend",name:"推荐",isShow:!1}],curIndex:3}),methods:{changeIndex(a){this.curIndex=a.target.num}}},[["render",function(a,e,l,n,r,m){const p=f,h=P("audioBook"),v=P("listening"),y=P("radioPlay"),k=P("recommend");return s(),t(p,null,{default:o((()=>[u(p,{class:"header"},{default:o((()=>[(s(!0),c(i,null,d(r.list,((a,e)=>(s(),t(p,{key:e,onClick:a=>r.curIndex=e},{default:o((()=>[u(p,null,{default:o((()=>[_(g(a.name),1)])),_:2},1024)])),_:2},1032,["onClick"])))),128))])),_:1}),u(p,{class:"main"},{default:o((()=>["audioBook"===r.list[r.curIndex].component?(s(),t(h,{key:0})):"listening"===r.list[r.curIndex].component?(s(),t(v,{key:1})):"radioPlay"===r.list[r.curIndex].component?(s(),t(y,{key:2})):(s(),t(k,{key:3}))])),_:1})])),_:1})}],["__scopeId","data-v-d7a5d098"]]);export{C as default};
